# **Python 太乙神數 Kintaiyi 堅太乙 堅太乙時計**
[![Python](https://img.shields.io/pypi/pyversions/kintaiyi)](https://pypi.org/project/kintaiyi/)
[![PIP](https://img.shields.io/pypi/v/kintaiyi)](https://pypi.org/project/kintaiyi/)
[![Downloads](https://img.shields.io/pypi/dm/kintaiyi)](https://pypi.org/project/kintaiyi/)
[![TG](https://img.shields.io/badge/chat-on%20telegram-blue)](https://t.me/gnatnek)
[![Donate](https://img.shields.io/badge/Donate-PayPal-green.svg?logo=paypal&style=flat-square)](https://www.paypal.me/kinyeah)&nbsp;

![alt text](https://github.com/kentang2017/kintaiyi/blob/master/pic/64459296_2342412609170469_2685042927293431808_n.jpg "太乙")
 ## 1. 導讀 Introduction
太乙神數是古代漢族占卜術的一種，與遁甲，六壬合稱三式，是推算天時以及歷史變化規律的術數學。周武王時以術數"卜世三十，卜年八百"推之，至邵雍形成歷史哲學而大備。據太乙神數推算，上古時有一年冬至日半夜，恰好日月合璧、五星連珠，定為甲子年、甲子月、甲子日、甲子時，稱作太極上元，上元甲子以來的年數，叫太乙積年。由太乙積年再求出太乙流年和太歲值卦，以斷本年各月的氣運凶吉，預測一些重大政治事件和天災人禍。採用五元六紀，三百六十年為一大周期，七十二年為一小周期，太乙每宮居三年，不入中宮，二十四年轉一周，七十二年遊三期。

太乙以一為太極生二目(主、客目)，二目生主客大小客與計神共八將。太乙乃天地之神，其星在太乙之前，統十六神而知風雨、水旱、兵革之事。昔黃帝與蚩尤大戰，適逢大霧，以霧書昏風後相，造指南車克之，是以取太乙之法，傳至今三千餘年，例目以為術數。外閱龍圖，內演龜文，凡天地之所以設君臣父子，之所以立陰陽，太乙了然演數則理昭著，太乙周行流運六十四卦，貴神入門十精之星，使經緯錯縮表理，集為一書。延續至今三千餘年不衰，為當今社會預測、決斷，提供了寶貴依據。

相傳太乙式產生于黃帝戰蚩尤時。其法大扺本于《易緯.乾鑿度》太乙行九宮法。採用五元六紀，三百六十年為一大周期，七十二年為一小周期，太乙每宮居三年，不入中宮，二十四年轉一周，七十二年遊三期。太乙以一為太極生二目(主、客目)，二目生主客大小客與計神共八將。(與易經太極分二儀，二儀生四象，四象生八卦相仿)。以太乙八將所乘十六神之方位關系定出格局。可佔內外祝福。又臨四時之分野，可佔水旱疾疫。再推三基五福大小遊二限，可預測古今治亂。又可推出年卦、月卦等。

Taiyishenshu, one of the Ancient Chinese Divinations, along with Qimendunjia and Dailiuren known as "three styles".


## 2. 安裝套件 Installation
```python
	pip install kintaiyi
	pip install sxtwl == 1.0, numpy
```
## 3. 起課方式 Quickstart
```python
	from kintaiyi import kintaiyi
	kintaiyi.Taiyi(2021,11,14,20).pan()
```
## 3. 太乙古籍

| 年份          | 作者           | 書名                                            | 備註       |
| ------------- | ------------- | --------------------------------------------- | ------------- |
| 唐  | 王希明  | 太乙金鏡式經      | 唐王希明撰。希明不詳其裏貫。開元時以方技為內供奉，待詔翰林。是書乃其奉敕所編，見於《新唐書·藝文志》，故書中多自稱臣。而其間推太乙積年有至宋景祐元年者，則後人已有所增入，非盡希明之舊也。《史記·日者傳》術數七家，太乙家居其一。《史記》天官書中宮天極星，其一明者為太乙常居。而封禪書亳人謬忌奏祠太一方，名天神貴者太一。鄭康成以為北辰神名，又或以為木神，而屈原《九歌》亦稱東皇太乙，則自戰國有此名。《漢志·五行家》有泰壹陰陽二十三卷，當即太乙家之書，然已佚不傳。惟《周易》乾鑿度有太乙行九宮法，而今所傳次序乃特右旋，以乾巽為一九。希明謂太乙知未來，故聖人為之蹉一位，以示先知之義。郭璞則謂地缺東南，故蹉九以填之。樂產又謂太乙之理後王得之以統天下，故蹉一以就乾。其說頗參差，而皆近於附會，故黃宗羲至詆為經緯混淆，行度無稽。蓋術家又有所汨亂矣。核其大旨，乃仿《易》、《曆》而作。其以一為太極，因之生二目，二目生四輔，猶《易》之兩儀四象也。又有計神，與太乙合之為八將，猶《易》之八卦也。其以歲月日時為綱，而以八將為緯，三基五福十精之類為經，亦猶夫《曆》也。其法以八將推其掩迫囚擊關格之類，占內外災福。又推四神所臨分野，占水旱兵喪饑饉疾疫。又推三基五福、大小遊二限易卦大運，占古今治亂。術士傳習，其來甚久，故《漢書》已載有陽九、百六之語。《南齊書·高帝紀贊》所引太乙九宮占，自漢高祖五年推至宋禎明元年，幾數百年，而其術遂大顯於世。至希明承詔纂次，參校眾法，益為詳備。觀李燾《續通鑒長編》，稱夏主元昊通蕃漢文字，嘗推太乙金鑒，則其書且行於四裔矣。然其所論徵應，實多錯謬。如東周逢陽九而不及於夏癸、商辛、少昊、帝舜皆以靈神首出，周之成、宣，唐之太宗，其時亦可稱治安，乃謂與秦始皇同逢百六，其說殊不可通。其凶神吉星所會，皆以分野為憑，而割裂牽配，尤為渺茫無據。故宋時劉黻亦嘗議其非。（《宋史·劉黻傳》，黻疏言，傳者謂太一所臨分野則有福、近歲自吳移蜀、信如其說，刊維按堵可也。今五六十州，安全者不能十數，福何在耶？）蓋術數之學如星平壬遁之類，所推止及於一身一時。匹夫之精神志氣，不能與造化相通，故韓蘇箕鬥，蠡種龍蛇，亦間為數所操而不能遁，然已為聖人所罕言。至歷代之治忽興亡，則所為克享天心者，實在主德，以為凝承之本。故聖王禦世而八荒賓服，九穀順成。時有和甘，物無疵癘，其太和洋溢，自有斂疇錫福之所以然，夫豈演紀尋元之可得而推測？是書所列，乃秦、漢間緯書之遺，禨祥小數之曲說，不衷於正，宜為聖人所必斥。特以其術為三式之一，所傳尚古，其書亦出自唐人，故附著於錄，而詳加辨正，以祛千古之惑焉。|
| 宋  | 楊惟德  | 景佑太乙福應經  | 10卷，收藏於四庫全書  |
| 宋  | 王佐  | 太乙秘書 | 收藏於光緒九年清隱山房叢書  |
| 宋  | 丘浚  | 太乙淘金歌 |   |
| 元  | 曉山老人  | 太乙統宗寶鑒 | 舊題元曉山老人撰，不知其姓名。前有大德七年自序。錢曾《讀書敏求記》，稱其家藏舊鈔《統宗寶鑒》有二本；其一後附《起例》、《真數》、《淘金歌》三書各一卷，其一後附《數林》、《籌數》、《專徵集略》、《神機三鏡》四書各一卷。今檢此本，並無所附，或為傳錄者所刪削也。其書以太乙周行統運六十四卦，與夫五福三基之貴神，八門十精之星使，經緯錯綜，標類成編。凡分二百餘目，大約本王希明《金鏡式經》而推擴之，頗為賅備。案王肯堂《鬱岡齋筆麈》雲，太乙之術，世所宗尚者惟《統宗寶鑒》。其求積年術，置演上元甲子，距元大德七年癸卯歲，積一千零一十五萬五千二百一十九年以為七曜齊元之法。然用此積算逆推至上元甲子，得氣應三十四萬七千八百七十五分，乃戊戌日酉正三刻，非甲子年甲子月甲子日甲子時也。其非七曜齊元明矣。作太乙書者不精算法，故訛舛如此。行之數百年，莫為是正，可歎也云云。是其於演記尋元之術，殊未足據矣。  |
| 元  | 曉山老人  | 太乙統宗福應紫庭金鏡集成 二十四卷 | 收藏於光緒九年清隱山房叢書  |
| 元  | 曉山老人  | 太乙命書  | 上下卷  |
| 宋  | 佚名 | 太一占鳥法  | 1卷  |
| 宋  | 魏申 | 太一總   | 100卷 |
| 宋  | 張中 | 太一金照辨誤歸正論   | 1卷 |
| 宋  | 楊惟德、王立 | 太一福應集要  | 1卷 |
| 宋  | 佚名 | 太一玄鑒  | 10卷 |
| 宋  | 佚名 | 太一新鑒  | 3卷 |
| 宋  | 佚名 | 遁甲步小遊太一諸將立成圖 | 2卷  |
| 宋  | 知玄子、秦浼 | 太一占玄歌 | 1卷  |
| 宋  | 佚名 | 太一五元新曆  | 1卷 |
| 宋  | 佚名 | 太一七術  | 1卷 |
| 宋  | 佚名 | 太一陰陽定計主客決勝法 | 1卷  |
| 宋  | 佚名 | 太一迴圈曆 | 1卷  |
| 宋  | 佚名 | 太一會運逆順通代記陣圖 | 1卷  |
| 宋  | 胡萬頃 | 太一遁甲萬勝時定主客立成訣 | 1卷  |
| 宋  | 佚名 | 太一集 | 8卷  |
| 宋  | 佚名 | 太一年表 | 1卷  |
| 宋  | 佚名 | 十三神太一 | 1卷  |
| 宋  | 佚名 | 禦序景佑三式太一福應集要 | 10卷  |
| 宋  | 王處訥 | 太一青龍甲寅經 | 1卷  |
| 宋  | 康洙序 | 時遊太一立成 | 1卷  |
| 宋  | 廣夷 | 太一秘歌 | 1卷  |
| 宋  | 佚名  | 太一細行草 | 1卷  |
| 宋  | 佚名  | 太一雜集筆草 | 1卷  |
| 宋  | 佚名  | 太一時計鈐 | 1卷  |
| 宋  | 佚名  | 太一陽九百六經 | 1卷  |
| 宋  | 佚名  | 太一神樞長曆 | 1卷  |
| 宋  | 佚名  | 太一陽局鈐 | 1卷  |
| 宋  | 佚名  | 太一陰局鈐 | 1卷  |
| 宋  | 佚名  | 九宮太一 | 1卷  |
| 宋  | 佚名  | 日遊太一五子元出軍勝負七十二局 | 1卷  |
| 宋  | 佚名  | 九宮應瑞太一圖 | 1卷  |
| 宋  | 佚名  | 太一中天密旨 | 3卷  |
| 宋  | 佚名  | 太一遁甲萬一訣 |   |
| 宋  | 佚名  | 太一陰陽二遁 |   |
| 宋  | 佚名  | 太一金鏡備式錄 | 10卷  |
| 宋  | 佚名  | 太一立成圖 |  1卷 |
| 宋  | 佚名  | 太一飛鳥十精曆 | 1卷  |
| 明  | 潘元焯  | 輯太乙說  |   |
| 明  | 王鳴鶴  | 太乙卷 |  第3冊，出自〈登壇必究〉《武備志》太乙篇 |
| 明  | 茅元儀  | 太乙成書  | 不著撰人名氏。是書以太乙五將奇偶二算演七十二局，視歲神吉凶。其法以上元甲子歲太乙起乾行八宮，每三年一徙。計神起寅，逆行十二辰，天目起甲，順行十六神。又以計神加艮求天目所在，為始擊將，而天目、始擊又各以其算立大將、參將，故必七十六局而五將遊行變動之格始周。凡五周為三百六十局，而甲子之太乙始複歸於乾。其每月者為月局，陰陽順逆，略如遁甲法。複約之為日局，而太乙之用乃具。書中所列諸局，雜引《淘金歌》、《金鏡》、《福應》、《紫庭諸經》及《樂產》、《王佐秘珠》諸說以證之。不為詮次，往往冗雜無緒。又其論兵家主客先後以算之和長者勝，若關囚掩迫，宜固守而算少者，不利深入，亦為牽於成局。殆《新唐書·方技傳序》所謂迂而入諸拘礙，泥而弗通大方者也。  |
| 明  | 潘元焯  | 輯太乙說  |   |
| 明  | 喻龍德輯  | 太乙相天根 | 收錄自喻子十三種秘書兵衡卷12  |
| 明  | 佚名 | 太乙數統宗大全  | 40卷清集福堂刻 6卷3冊全民國中原書局石印  |
| 明  | 李自明 | 太乙遁甲專征賦  | 一卷（浙江範懋柱家天一閣藏本）不著撰人名氏。考焦竑《經籍志》有明員卓《遁甲專征賦》，其名與此相合，或即卓書，或後人所擬作，莫能詳也。其書以遁甲論行軍趨避之用，不外《煙波釣叟歌》中之意，別無所發明。且以太乙命名，而篇中絕無一語及太乙九宮計神主客者，尤為不可解矣。 |
| 明  | 佚名 | 太乙遁局  | 不分卷8卷，明藍格鈔本，國家圖書館館藏   |
| 明  | 佚名 | 太乙歷數  |    |
| 明  | 張德常 | 太乙遁算數理  |    |
| 明  | 佚名 | 太乙燭幽經  |  2卷 |
| 明  | 佚名 | 太乙原古  |  3卷 |
| 明  | 葉容 | 太乙三辰顯異經  |  10卷 |
| 明  | 李元灃 | 太乙九旗曆  |  3卷 |
| 明  | 邢雲路 |太乙書  |  10卷 |
| 明  | 佚名 | 太乙會鈐 |  1卷 |
| 明  | 佚名 | 太乙四種 |   |
| 明  | 佚名 | 太乙十精 | 2卷 |
| 明  | 佚名 | 太乙星書 | 2卷 |
| 明  | 佚名 | 黃帝太乙八門入式訣書 | 3卷 |
| 明  | 佚名 | 太乙金鑰匙 | 1卷 |
| 清  | 劉學誠 | 太乙照神經 | 1卷 |
| 清  | 李自明 | 太乙神數  | 上海大成書局民國11年書刊6厚冊一套全，含太乙淘金歌. 太乙局.太乙人道命法 |


